<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <constant name="struts.configuration.xml.reload" value="true" />
    <constant name="struts.ui.theme" value="simple" />
    <constant name="struts.devMode" value="true" />

    <!-- 设置struts2文件上传最大值 -->
    <constant name="struts.multipart.maxSize" value="209715200" />

    <!-- 文件上传临时文件保存路径 -->
    <constant name="struts.multipart.saveDir" value="repository"></constant>

    <package name="default" extends="struts-default">
        <interceptors>
            <interceptor name="authority"
                         class="controller.AuthorityInterceptor">
            </interceptor>
            <interceptor-stack name="mystack">
                <interceptor-ref name="defaultStack" />
                <interceptor-ref name="authority" />
            </interceptor-stack>
        </interceptors>
        <default-interceptor-ref name="mystack" />
        <global-results>
            <result name="error">/error.jsp</result>
            <result name="login">/login.jsp</result>
        </global-results>

        <global-exception-mappings>
            <exception-mapping exception="java.lang.Exception"
                               result="error" />
        </global-exception-mappings>

    </package>


    <package name="login" namespace="/" extends="struts-default">
        <action name="login" class="controller.LoginAction"
                method="login">   <!-- 用于处理登陆请求 -->
            <result name="success">/index.html</result>
            <result name="failure">/login.html</result>
        </action>
    </package>

    <package name="register" namespace="/" extends="struts-default">
        <action name="register" class="controller.RegisterAction"
                method="register">   <!-- 用于处理注册请求 -->
            <result name="success">/index.html</result>
            <result name="failure">/register.html</result>
        </action>


    </package>


    <package name="form" namespace="/" extends="struts-default">

        <action name="*Form" class="controller.FormAction"
                method="{1}">   <!-- 用于处理创建表格请求 -->
            <result name="success">/index.html</result>
            <result name="failure">/form2.html</result>
        </action>
    </package>


    <package name="register_checkUserIsExist" namespace="/ajax" extends="json-default">
        <action name="checkUserIsExist" class="controller.RegisterAction"
                method="checkUserIsExist">   <!-- 用于处理用户名是否存在 -->
            <result type="json">
                <param name="root">usernameIsExist</param>
            </result>
        </action>

        <action name="userInfoUpdate" class="controller.RegisterAction"
                method="userInfo">   <!-- 用于处理用户修改个人信息请求 -->
            <result type="json">
                <param name="root">userInfoUpdateIfSuccess</param>
            </result>
        </action>

        <action name="userInfoGetInfo" class="controller.RegisterAction"
                method="userInfoGetInfo">   <!-- 用于得到用户信息 -->
            <result type="json">
                <param name="root">info</param>
            </result>
        </action>

    </package>
    <package name="resource" namespace="/ajax" extends="json-default">
        <action name="*Resource" class="controller.ResourceAction"
                method="{1}">

            <result type="json">
                <param name="root">aaData</param>
            </result>
        </action>
    </package>


    <!--<package name="form" namespace="/ajax" extends="json-default">-->
        <!--<action name="*Form" class="controller.FormAction" method="{1}">-->

            <!--<result type="json">-->
                <!--<param name="root">createFormIsSucces</param>-->
            <!--</result>-->
        <!--</action>-->
    <!--</package>-->





    <!-- include file="example.xml"/> -->

    <!-- Add packages here -->


</struts>
